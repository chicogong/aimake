# AIMake 深度调研与设计方案

> 创建日期: 2026-01-09
> 状态: 设计中

---

## 一、方向选择分析

### 评分矩阵

| 方向 | 市场需求 | 技术难度 | 竞争程度 | 变现能力 | MVP速度 | 总分 |
|------|:--------:|:--------:|:--------:|:--------:|:-------:|:----:|
| **播客对话生成** | 5 | 3 | 3 | 4 | 4 | **19** |
| **短视频配音** | 5 | 2 | 4 | 4 | 5 | **20** |
| **有声书生成** | 4 | 4 | 3 | 4 | 3 | **18** |
| **教育内容** | 4 | 3 | 2 | 3 | 4 | **16** |

### 推荐 MVP 方向

**主方向**: 短视频配音 + 播客对话生成

理由：
1. 短视频配音 - 市场最大，技术成熟，见效快
2. 播客对话生成 - 差异化明显，NotebookLM 验证了需求

---

## 二、用户旅程

### 短视频配音用户旅程

```
[发现] → [注册] → [首次使用] → [付费转化] → [持续使用]
   ↓        ↓          ↓            ↓            ↓
 社媒广告  快速注册   输入文本     额度用完      高级功能
 好奇      期待      选音色生成    展示价值      批量处理
                    下载MP3      升级引导
```

### 播客对话生成用户旅程

```
[发现] → [尝试] → [生成] → [编辑] → [发布]
   ↓        ↓        ↓        ↓        ↓
 想做播客  输入文章  AI生成    调整    导出音频
 但不会录  或主题   多角色对话  换音色   RSS发布
```

---

## 三、系统架构

```
                     ┌──────────────┐
                     │  用户浏览器   │
                     │  React SPA   │
                     └──────┬───────┘
                            │
                     ┌──────▼───────┐
                     │  CDN/Nginx   │
                     └──────┬───────┘
                            │
              ┌─────────────┼─────────────┐
              │             │             │
       ┌──────▼────┐ ┌──────▼────┐ ┌──────▼────┐
       │ 用户服务  │ │ 内容服务  │ │ TTS服务   │
       │ FastAPI   │ │ FastAPI   │ │ FastAPI   │
       └─────┬─────┘ └─────┬─────┘ └─────┬─────┘
             │             │             │
       ┌─────▼─────┐ ┌─────▼─────┐ ┌─────▼─────┐
       │PostgreSQL │ │  Redis    │ │ TTS APIs  │
       │  用户DB   │ │ 缓存/队列 │ │OpenAI/11L │
       └───────────┘ └─────┬─────┘ └───────────┘
                           │
                     ┌─────▼─────┐
                     │    S3     │
                     │ 音频存储  │
                     └───────────┘
```

---

## 四、TTS 生成流程

```
┌────────┐   ┌────────┐   ┌────────┐   ┌────────┐   ┌────────┐
│  输入  │ → │ 预处理 │ → │TTS生成 │ → │ 后处理 │ → │  输出  │
│  文本  │   │        │   │        │   │        │   │  音频  │
└────────┘   └────────┘   └────────┘   └────────┘   └────────┘
    ↓            ↓            ↓            ↓            ↓
  文本        分段         调用API      音频拼接      MP3
  音色选择    标点处理     流式返回     降噪均衡      WAV
  参数设置    SSML标记     缓存         加BGM        下载
```

---

## 五、播客对话生成流程

```
Step 1: 输入
┌─────────┐  ┌─────────┐  ┌─────────┐
│文章 URL │  │粘贴文本 │  │主题描述 │
└────┬────┘  └────┬────┘  └────┬────┘
     └────────────┼────────────┘
                  ▼
Step 2: AI 分析生成
┌─────────┐   ┌──────────┐   ┌───────────┐
│内容理解 │ → │ 对话编排 │ → │ 角色分配  │
│ (LLM)   │   │  (LLM)   │   │Host/Guest │
└─────────┘   └──────────┘   └─────┬─────┘
                                   ▼
                           ┌─────────────┐
                           │生成对话脚本 │
                           │[Host]: xxx  │
                           │[Guest]: xxx │
                           └──────┬──────┘
                                  ▼
Step 3: TTS 合成
┌─────────┐              ┌─────────┐
│Voice A  │──┐  TTS   ┌──│音频片段A│
│ (Host)  │  ├──引擎──┤  └─────────┘
│Voice B  │──┘        └──│音频片段B│──→ 拼接
│ (Guest) │              └─────────┘
└─────────┘
                  ▼
Step 4: 后处理输出
┌──────────┐   ┌──────────┐   ┌──────────┐
│ 添加过渡 │ → │ 音频均衡 │ → │  添加BGM │
└──────────┘   └──────────┘   └────┬─────┘
                                   ▼
                            ┌───────────┐
                            │ MP3 下载  │
                            │ 在线播放  │
                            │ RSS 发布  │
                            └───────────┘
```

---

## 六、详细设计文档

以下是各个模块的详细设计文档：

### 产品与规划

| 文档 | 描述 | 链接 |
|------|------|------|
| **产品规划** | 功能规划、定价、开发计划 | [product-plan.md](../planning/product-plan.md) |
| **方向探索** | 内容类型、用户群体分析 | [content-generation-directions.md](../planning/content-generation-directions.md) |
| **TTS 供应商对比** | 多供应商选型、成本分析 | [tts-providers-comparison.md](../planning/tts-providers-comparison.md) |

### 技术设计

| 文档 | 描述 | 链接 |
|------|------|------|
| **API 接口设计** | RESTful 接口定义、请求响应格式 | [api-design.md](./api-design.md) |
| **数据库设计** | 表结构、索引、查询示例 | [database-schema.md](./database-schema.md) |
| **前端架构** | 组件结构、状态管理、Hooks | [frontend-architecture.md](./frontend-architecture.md) |
| **登录鉴权** | Clerk 集成方案 | [auth-design.md](./auth-design.md) |
| **支付集成** | Stripe 订阅支付流程 | [payment-integration.md](./payment-integration.md) |
| **Prompt 工程** | 播客对话生成的 Prompt 设计 | [prompt-engineering.md](./prompt-engineering.md) |
| **错误处理** | 错误码、消息、前后端处理规范 | [error-handling.md](./error-handling.md) |

### 开发与运维

| 文档 | 描述 | 链接 |
|------|------|------|
| **环境配置** | 环境变量、密钥管理 | [env-config.md](../development/env-config.md) |
| **部署架构** | 生产环境部署、CI/CD、监控 | [deployment-architecture.md](../development/deployment-architecture.md) |
| **自动化开发** | AI 工具、MCP、自动化测试 | [automation-plan.md](../development/automation-plan.md) |
| **上线验证** | 冒烟测试、回归测试、发布流程 | [release-verification.md](../development/release-verification.md) |

---

## 七、下一步行动

### 立即开始

1. [ ] 初始化前端项目 (Vite + React + TypeScript)
2. [ ] 初始化后端项目 (Cloudflare Workers + Hono)
3. [ ] 配置 Clerk 认证
4. [ ] 测试 OpenAI TTS API

### 本周目标

- [ ] 完成用户注册/登录
- [ ] 完成基础 TTS 功能
- [ ] 完成音频播放/下载

---

## 八、文档更新日志

| 日期 | 更新内容 |
|------|----------|
| 2026-01-09 | 创建初始设计文档 |
| 2026-01-09 | 添加 API 接口设计、支付集成、环境配置、错误处理文档 |

---

*文档持续更新中...*
